{{define "ranks"}} {{ template "_header" . }}

<div class="container" id="ranks-page">

    <div class="jumbotron">
        <div class="row">
            <div class="col-sm-12 col-lg-6">

                <h1 class="display-4"><i class="fas fa-users"></i> Players</h1>

            </div>
            <div class="col-sm-12 col-lg-6">

                <form action="/players" method="post">
                    <div class="input-group input-group-lg mt-3">
                        <input class="form-control" type="text" placeholder="Search for a Player" name="id" required="required" autocomplete="off" autofocus>
                        <div class="input-group-append">
                            <input type="submit" value="Search" class="input-group-text">
                        </div>
                    </div>
                </form>

            </div>
            <div class="col-12">

                <p class="lead">See where you come against the rest of the world. {{ .PlayersCount }} players. {{ .RanksCount }} ranked. Updated <span data-livestamp="{{ .Date }}"></span></p>

            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-body">

            <div class="table-responsive">
                <table class="table table-hover table-striped mb-0" id="ranks">
                    <thead class="thead-light">
                    <th scope="col">Rank</th>
                    <th scope="col">Player</th>
                    <th scope="col" width="1%" data-disabled>Flag</th>
                    <th scope="col"><a href="/players/level">Level</a></th>
                    <th scope="col"><a href="/players/games">Games</a></th>
                    <th scope="col"><a href="/players/badges">Badges</a></th>
                    <th scope="col"><a href="/players/time">Time</a></th>
                    <th scope="col"><a href="/players/friends">Friends</a></th>
                    </thead>
                {{ range $key, $value := .Ranks }}
                    <tr data-link="/players/{{ .PlayerID }}/{{ .PersonaName }}">
                        <td class="font-weight-bold">{{ .Rank }}</td>
                        <td class="img">
                            <img src="{{ .GetAvatar }}" class="rounded square" onError="this.onerror=null;this.src='{{.GetDefaultAvatar}}';">
                            <span>{{ .PersonaName }}</span>
                        </td>
                        <td class="img">
                            <img data-toggle="tooltip" data-placement="left" title="{{ .GetCountry }}" src="{{ .GetFlag }}" class="rounded">
                        </td>
                        <td class="img">
                            <div class="{{ .GetAvatar2 }} square"></div>
                            <span>{{ comma .Level }}</span>
                        </td>
                        <td>{{ comma .Games }}</td>
                        <td>{{ comma .Badges }}</td>
                        <td nowrap="nowrap" data-toggle="tooltip" data-placement="top" title="{{.GetTimeLong}}">{{ .GetTimeShort }}</td>
                        <td>{{ comma .Friends }}</td>
                    </tr>
                {{ end }}
                </table>
            </div>

        {{ template "_pagination" .Pagination }}

        </div>
    </div>

</div>

{{ template "_footer" }} {{end}}